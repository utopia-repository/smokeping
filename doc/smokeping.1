.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "SMOKEPING 1"
.TH SMOKEPING 1 "2005-05-10" "1.42" "SmokePing"
.SH "NAME"
smokeping \- Commandline tool for SmokePing
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBsmokeping\fR [ \fB\-\-email\fR | \fB\-\-makepod\fR | \fB\-\-version\fR | \fB\-\-restart\fR ]
.PP
.Vb 1
\& Options:
.Ve
.PP
.Vb 1
\& --man        Show the manpage
.Ve
.PP
.Vb 1
\& --help       Help :-)
.Ve
.PP
.Vb 1
\& --email      Send SmokePing Agents to all Targets marked DYNAMIC
.Ve
.PP
.Vb 1
\& --makepod    Create POD documentation on Config file
.Ve
.PP
.Vb 1
\& --version    Show SmokePing Version
.Ve
.PP
.Vb 1
\& --debug      Run Only once and do not Fork
.Ve
.PP
.Vb 1
\& --debug-daemon Start the daemon with debugging enabled
.Ve
.PP
.Vb 1
\& --restart    Restart SmokePing
.Ve
.PP
.Vb 1
\& --nodaemon    Do no daemonize the process (no fork)
.Ve
.PP
.Vb 1
\& --filter=x   Only measure entries which pass the filter x
.Ve
.PP
.Vb 1
\& --logfile    Append warnings to this logfile
.Ve
.PP
.Vb 2
\& --static[=x] Generates a static website in directory x.  If x is left out,
\&              pagedir from the config is used.
.Ve
.PP
.Vb 1
\& --nosleep    For debugging you may want to run SmokePing without sleep interval
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBsmokeping\fR tool is the commandline part of the SmokePing system. Its
main function is to run as a daemon and send Pings to all the Targets you
have specified in the Config file. When you call \fBsmokeping\fR without
arguments it will start as a daemon and do its work.
.PP
If called with an argument, then further functions can be activated, as seen
in the Synopsis above. The \fB\-\-email\fR function is explained in the
documentation on the config file.
.PP
The \fB\-\-filter\fR option allows you to run the daemon on a big config file,
but have the config file filtered and only measure the entries that pass the
filter. This is useful for remote measurement. Run Smokeping with two
exclusive filters in two locations and rsync the rrds back to the webserver
host where you run the cgi. Filters act on the section names in the config
file. Multiple section names are concatenated with \fB/\fR like path names:
.PP
.Vb 6
\& *** targets ***
\& + A
\& ....
\& + B
\& ...
\& ++ C
.Ve
.PP
This gives
.PP
.Vb 1
\& /A
.Ve
.PP
and 
.PP
.Vb 1
\& /B, /B/C
.Ve
.PP
If I want to monitor /A my filter would look like this:
.PP
.Vb 1
\& --filter=/A
.Ve
.PP
Filters follow regular expression syntax. The are always anchored at the tip of the string.
by adding a \fB!\fR to the front of the filter string you negate it. Matching entries will be excluded from monitoring.
Multiple \fB\-\-filter\fR arguments can be used to assemble complex filters:
.PP
.Vb 1
\&  --filter=/A --filter=/B
.Ve
.PP
would include all the targets 
.PP
.Vb 1
\&  --filter=/A --filter=/B --filter=!/B/C
.Ve
.PP
would include all but /B/C.
.PP
The \fB\-\-makepod\fR does get used internally to produce the documentation on
the SmokePing configuration file.
.PP
Please refer to the installation document for detailed setup instructions.
.SH "SETUP"
.IX Header "SETUP"
When installing SmokePing, this file has to be adjusted to fit your
local system. Three paths have to be entered.
.PP
One pointing to your \fBrrdtool\fR installation
.PP
.Vb 1
\& use lib qw(/usr/pack/rrdtool-1.0.33-to/lib/perl);
.Ve
.PP
One pointing to the place where you have installed the SmokePing libraries
.PP
.Vb 1
\& use lib qw(/home/oetiker/public_html/smokeping/lib);
.Ve
.PP
The third path is the argument to the Smokeping::main command. It points to
the SmokePing configuration file.
.PP
.Vb 2
\& use Smokeping;
\& Smokeping::main("/home/oetiker/.smokeping/config");
.Ve
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (c) 2002 by Tobias Oetiker. All right reserved.
.SH "LICENSE"
.IX Header "LICENSE"
This program is free software; you can redistribute it
and/or modify it under the terms of the \s-1GNU\s0 General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.
.PP
This program is distributed in the hope that it will be
useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied
warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0
\&\s-1PURPOSE\s0.  See the \s-1GNU\s0 General Public License for more
details.
.PP
You should have received a copy of the \s-1GNU\s0 General Public
License along with this program; if not, write to the Free
Software Foundation, Inc., 675 Mass Ave, Cambridge, \s-1MA\s0
02139, \s-1USA\s0.
.SH "AUTHOR"
.IX Header "AUTHOR"
Tobias Oetiker <tobi@oetiker.ch>
