doc::Smokeping::probes::IOSPiSnmgo(kd3eo)Pci:n:gSmokeping::probes::IOSPing(3)



NNAAMMEE
       Smokeping::probes::IOSPing - Cisco IOS Probe for SmokePing

SSYYNNOOPPSSIISS
        *** Probes ***

        +IOSPing

        binary = /usr/bin/rsh # mandatory
        forks = 5
        offset = 50%
        packetsize = 56
        step = 300
        timeout = 15

        # The following variables can be overridden in each target section
        ioshost = my.cisco.router # mandatory
        iosint = Ethernet 1/0
        iosuser = admin
        pings = 5

        # [...]

        *** Targets ***

        probe = IOSPing # if this should be the default probe

        # [...]

        + mytarget
        # probe = IOSPing # if the default probe is something else
        host = my.host
        ioshost = my.cisco.router # mandatory
        iosint = Ethernet 1/0
        iosuser = admin
        pings = 5

DDEESSCCRRIIPPTTIIOONN
       Integrates Cisco IOS as a probe into smokeping.  Uses the
       rsh / remsh protocol to run a ping from an IOS device.

VVAARRIIAABBLLEESS
       Supported probe-specific variables:

       binary
           The binary option specifies the path of the binary to
           be used to connect to the IOS device.  Commonly used
           binaries are /usr/bin/rsh and /usr/bin/remsh, although
           any script or binary should work if can be called as

               /path/to/binary [ -l user ] router ping

           to produce the IOS ping dialog on stdin & stdout.

           Example value: /usr/bin/rsh

           This setting is mandatory.

       forks
           Run this many concurrent processes at maximum

           Example value: 5

           Default value: 5

       offset
           If you run many probes concurrently you may want to
           prevent them from hitting your network all at the same
           time. Using the probe-specific offset parameter you
           can change the point in time when each probe will be
           run. Offset is specified in % of total interval, or
           alternatively as 'random', and the offset from the
           'General' section is used if nothing is specified
           here. Note that this does NOT influence the rrds
           itself, it is just a matter of when data acqusition is
           initiated.  (This variable is only applicable if the
           variable 'concurrentprobes' is set in the 'General'
           section.)

           Example value: 50%

       packetsize
           The (optional) packetsize option lets you configure
           the packetsize for the pings sent.

           Default value: 56

       step
           Duration of the base interval that this probe should
           use, if different from the one specified in the
           'Database' section. Note that the step in the RRD
           files is fixed when they are originally generated, and
           if you change the step parameter afterwards, you'll
           have to delete the old RRD files or somehow convert
           them. (This variable is only applicable if the vari-
           able 'concurrentprobes' is set in the 'General' sec-
           tion.)

           Example value: 300

       timeout
           How long a single 'ping' takes at maximum

           Example value: 15

           Default value: 5

       Supported target-specific variables:

       ioshost
           The ioshost option specifies the IOS device which
           should be used for the ping.

           Example value: my.cisco.router

           This setting is mandatory.

       iosint
           The (optional) iosint option allows you to specify the
           source address or interface in the IOS device. The
           value should be an IP address or an interface name
           such as "Ethernet 1/0". If this option is omitted, the
           IOS device will pick the IP address of the outbound
           interface to use.

           Example value: Ethernet 1/0

       iosuser
           The (optional) iosuser option allows you to specify
           the remote username the IOS device.  If this option is
           omitted, the username defaults to the default user
           used by the remsh command (usually the user running
           the remsh command, ie the user running SmokePing).

           Example value: admin

       pings
           How many pings should be sent to each target, if dif-
           ferent from the global value specified in the Database
           section. Note that the number of pings in the RRD
           files is fixed when they are originally generated, and
           if you change this parameter afterwards, you'll have
           to delete the old RRD files or somehow convert them.

           Example value: 5

AAUUTTHHOORRSS
       Paul J Murphy <paul@murph.org>

       based on Smokeping::probes::FPing by

       Tobias Oetiker <tobi@oetiker.ch>

NNOOTTEESS
       IIOOSS CCoonnffiigguurraattiioonn

       The IOS device must have rsh enabled and an appropriate
       trust defined, eg:

           !
           ip rcmd rsh-enable
           ip rcmd remote-host smoke 192.168.1.2 smoke enable
           !

       Some IOS devices have a maximum of 5 VTYs available, so be
       careful not to hit a limit with the 'forks' variable.

       PPaasssswwoorrdd aauutthheennttiiccaattiioonn

       It is not possible to use password authentication with rsh
       or remsh due to fundamental limitations of the protocol.

       PPiinngg ppaacckkeett ssiizzee

       The FPing manpage has the following to say on the topic of
       ping packet size:

       Number of bytes of ping data to send.  The minimum size
       (normally 12) allows room for the data that fping needs to
       do its work (sequence number, timestamp).  The reported
       received data size includes the IP header (normally 20
       bytes) and ICMP header (8 bytes), so the minimum total
       size is 40 bytes.  Default is 56, as in ping. Maximum is
       the theoretical maximum IP datagram size (64K), though
       most systems limit this to a smaller, system-dependent
       number.



2.0.9                       2006d-o0c7:-:1S4mokeping::probes::IOSPing(3)
